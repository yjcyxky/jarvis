# Agent 自动执行 - 常见问题解答

## ❓ 基础问题

### Q: 什么是 Agent 自动执行功能？
A: 这是一个智能功能，当你的 agent 文件发生变化时，系统会自动执行指定的 agent 来更新文档或执行其他任务。它只在文件实际变化时才执行，避免不必要的重复运行。

### Q: 这个功能适合什么场景？
A: 特别适合以下场景：
- 自动生成文档（如 `generate-claude-md`）
- 配置同步和更新
- 代码质量检查
- 测试运行
- 任何需要响应文件变化的自动化任务

### Q: 如何知道功能是否正常工作？
A: 使用状态查看命令：
- 命令面板：`Ctrl/Cmd + Shift + P` → "Jarvis: Show Auto-Execute Status"
- 快速访问：点击 Jarvis 按钮 → "Show Auto-Execute Status"

## ⚙️ 配置问题

### Q: 如何启用自动执行？
A: 在 VS Code 设置中配置：
```json
{
  "jarvis.autoExecute.enabled": true,
  "jarvis.autoExecute.agentName": "your-agent-name",
  "jarvis.autoExecute.frequency": "daily"
}
```

### Q: 频率选项有什么区别？
A: 
- **daily**：每24小时最多执行一次，适合文档生成等低频任务
- **hourly**：每1小时最多执行一次，适合需要较频繁更新的任务
- **manual**：禁用自动执行，仅支持手动触发

### Q: 可以配置多个 agent 自动执行吗？
A: 目前只支持配置一个 agent 的自动执行。如果需要执行多个 agent，可以创建一个主 agent 来调用其他 agent。

### Q: 如何更改 agent 目录路径？
A: 配置 `jarvis.paths.agentDir` 选项：
```json
{
  "jarvis.paths.agentDir": "custom/agents/path"
}
```

## 🚀 使用问题

### Q: 为什么修改了文件但没有自动执行？
A: 可能的原因：
1. 自动执行功能未启用
2. Agent 名称配置错误
3. Agent 不存在
4. 不满足频率限制
5. Agent 已在运行

**解决方法**：查看状态信息，检查配置，确认 agent 存在。

### Q: 如何手动触发执行？
A: 有两种方法：
1. **命令面板**：`Ctrl/Cmd + Shift + P` → "Jarvis: Trigger Manual Execute"
2. **快速访问**：点击 Jarvis 按钮 → "Trigger Auto-Execute"

### Q: 手动触发和自动执行有什么区别？
A: 
- **自动执行**：受频率限制，只在文件变化时触发
- **手动触发**：不受频率限制，随时可以执行

### Q: 如何停止正在运行的 agent？
A: 在 Agent 视图中找到正在运行的 agent，点击停止按钮，或使用命令面板的 "Jarvis: Stop Agent" 命令。

## 🔍 故障排除

### Q: 执行失败怎么办？
A: 
1. 查看 VS Code 输出面板中的 "Jarvis - Agent Manager" 日志
2. 检查 agent 配置是否正确
3. 确认 agent 文件格式正确
4. 尝试手动触发测试

### Q: 日志文件在哪里？
A: 日志文件位于 `.jarvis/agent-logs/` 目录中，按 agent 名称和时间戳组织。

### Q: 如何清理日志文件？
A: 可以手动删除 `.jarvis/agent-logs/` 目录中的旧日志文件，或者配置日志保留策略。

### Q: 执行太频繁怎么办？
A: 
1. 将频率设置为 `daily`
2. 检查是否有不必要的文件变化
3. 使用状态查看了解执行历史

### Q: 如何调试配置问题？
A: 
1. 使用状态查看命令检查当前配置
2. 查看日志了解执行决策过程
3. 尝试手动触发测试功能
4. 检查 agent 文件是否存在且格式正确

## 📊 状态和监控

### Q: 状态信息包含什么？
A: 状态信息包括：
- 自动执行是否启用
- 配置的 agent 名称
- 执行频率设置
- 最后一次文件变化时间
- 最后一次执行时间
- 是否有待处理的文件变化

### Q: 如何查看执行历史？
A: 
1. 在 Agent 视图中查看 agent 状态
2. 查看日志文件
3. 使用历史查看功能

### Q: 如何知道文件是否有变化？
A: 使用状态查看命令，会显示：
- 最后文件变化时间
- 是否有待处理的文件变化
- 与上次执行时间的对比

## 🔧 高级问题

### Q: 可以自定义执行条件吗？
A: 目前支持的条件包括：
- 文件变化检测
- 频率限制
- Agent 运行状态检查
- 时间间隔控制

### Q: 如何优化性能？
A: 
1. 合理设置执行频率
2. 避免配置执行时间过长的 agent
3. 定期清理日志文件
4. 使用手动模式进行测试

### Q: 支持哪些文件格式？
A: 支持 `.md` 和 `.json` 格式的 agent 文件。

### Q: 如何备份配置？
A: 配置文件位于 `.vscode/settings.json` 中，可以将其备份或版本控制。

## 🆘 获取帮助

### Q: 在哪里可以找到更多帮助？
A: 
1. 查看完整的使用指南文档
2. 检查 VS Code 输出面板中的日志
3. 使用状态查看命令了解详细信息
4. 尝试手动触发进行测试

### Q: 如何报告问题？
A: 
1. 记录详细的错误信息
2. 提供配置信息
3. 包含相关的日志内容
4. 描述复现步骤

---

**提示**：如果遇到问题，首先查看状态信息和日志，大多数问题都可以通过这些信息找到解决方案。
